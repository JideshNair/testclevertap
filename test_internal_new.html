<html>
    <head>
<script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-messaging.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyBUXtmaWZuJuvRHX0tNzd68R1ujj6tV1lo",
    authDomain: "testct-70799.firebaseapp.com",
    databaseURL: "https://testct-70799.firebaseio.com",
    projectId: "testct-70799",
    storageBucket: "testct-70799.appspot.com",
    messagingSenderId: "531495931694",
    appId: "1:531495931694:web:1a4eb9957aa126273ab4bf",
    measurementId: "G-4HLK2JMF99"
  };

  firebase.initializeApp(firebaseConfig);
const messaging = firebase.messaging();
messaging.usePublicVapidKey("BK6C_NAb7vAh3oXR_A6IexStk4UWO5QZeCgx6X5JYatXxlOzeBTxpIKn2P6mEVQXXLOnBDY27cpXl1nbqq2DDyk");
//Custom function made to run firebase service 
getStartToken();
//This code recieve message from server /your app and print message to console if same tab is opened as of project in browser 
// messaging.onMessage(function(payload){
// console.log("on Message",payload);
// });
function getStartToken(){

  // request user grant to show notification
  return Notification.requestPermission(function(result) {
    return result;
  });
 navigator.serviceWorker.register("./clevertap_sw.js").then(function(swRegistration) {
    //you can do something with the service wrker registration (swRegistration)
  });
}
function RequestPermission(){

//   messaging.getToken({vapidKey: "BK6C_NAb7vAh3oXR_A6IexStk4UWO5QZeCgx6X5JYatXxlOzeBTxpIKn2P6mEVQXXLOnBDY27cpXl1nbqq2DDyk"});
//   if ('serviceWorker' in navigator) {
// navigator.serviceWorker.register('./clevertap_sw.js')
//   .then(function(registration) {
//     console.log('Registration successful, scope is:', registration.scope);
//   }).catch(function(err) {
//     console.log('Service worker registration failed, error:', err);
//   });
// }
}

// clevertap.notifications.push({
//     "titleText":"Would you like to receive Push Notifications?",
//     "bodyText":"We promise to only send you relevant content and give you updates on your transactions",
//     "okButtonText":"Sign me up!",
//     "rejectButtonText":"No thanks",
//     "okButtonColor":"#F28046",
//     "askAgainTimeInSeconds":5,
//     "serviceWorkerPath": "./clevertap_sw.js" // path to your custom service worker file
//   });
    


</script>

        
    </head>
    <body>


            <button type="button" onclick="RequestPermission()">Click Me!</button>
        </body>
</html>